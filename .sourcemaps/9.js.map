{"version":3,"sources":["../../src/pages/groupViolations/groupViolations.module.ts","../../src/services/infracoes.ts","../../src/pages/groupViolations/groupViolations.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GroupViolationsPage } from './groupViolations';\n\n\n@NgModule({\n  declarations: [\n    GroupViolationsPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(GroupViolationsPage),\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class GroupViolationsPageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupViolations/groupViolations.module.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\nimport { Http, Response } from \"@angular/http\";\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class InfracoesService {\n  constructor(private http: Http) {\n\n  }\n\n  public getInfrcoes(): Observable<any>  {\n    let url:string = `/infracoes`\n    return this.http.get(url).map((res:Response) => res.json());\n    //return this.http.get(`/ocorrencias/${userId}`).toPromise();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/infracoes.ts","import { Component } from '@angular/core';\nimport {AlertController, IonicPage, ModalController, NavController, NavParams, ViewController} from 'ionic-angular';\nimport {InfracoesService} from \"../../services/infracoes\";\nimport {Splashscreen} from \"ionic-native\";\n\n@IonicPage()\n@Component({\n    selector: 'page-group-violations',\n    templateUrl: 'groupViolations.html',\n    providers: [InfracoesService]\n})\nexport class GroupViolationsPage {\n  violations: any;\n  copy: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private alertCtrl: AlertController,\n    public modalCtrl: ModalController,\n    public viewCtrl: ViewController,\n    public infracoes:InfracoesService\n  ) {\n    this.violations = navParams.get('violations') ? navParams.get('violations') : [];\n    console.log(\"------\",this.violations)\n  }\n\n  ngOnInit(){\n    if(this.violations.length < 1){\n      this.loadInfracoes();\n    }else{\n      this.copy = JSON.parse(JSON.stringify(this.violations))\n    }\n\n  }\n\n  loadInfracoes(){\n    this.infracoes.getInfrcoes().subscribe((result) => {\n      if(result.success){\n        this.violations = result.data\n        this.copy = JSON.parse(JSON.stringify(this.violations))\n      }\n    })\n  }\n\n  onClose(){\n\n    let alert = this.alertCtrl.create({\n      title: \"<img src='assets/images/icons/icon_question.png' class='iconImage' alt=''>\",\n      message: 'Deseja realmente cancelar sua notificação?',\n      buttons: [\n        {\n          text: 'Sim',\n          handler: () => {\n            this.viewCtrl.dismiss(this.copy);\n          }\n        },\n        {\n          text: 'Não ',\n          handler: () => {\n            console.log('No selected!');\n          }\n        }\n      ],\n      cssClass: 'alertCustomCss'\n    });\n    alert.present();\n\n\n  }\n\n\n  onOpenNotification(item: any){\n    console.log(\">>>>onOpenNotification\",item)\n    let modal = this.modalCtrl.create('ViolationPage',{violation:item},{\n      showBackdrop: false\n    })\n    modal.onDidDismiss(dataViolations => {\n     let countChecked = 0;\n      if(dataViolations){\n        item =  JSON.parse(JSON.stringify(dataViolations))\n        let index = this.violations.map((violation) => { return violation.id_infracao}).indexOf(item.id_infracao )\n        this.violations[index] = item;\n        this.violations.map((violation) => {\n          countChecked = 0;\n          violation.infracao.map((infracao) =>{\n            if(infracao.checked){\n              countChecked++\n            }\n          })\n          violation.countChecked = countChecked;\n        })\n      }\n    });\n    modal.present();\n  }\n\n  onSave(){\n    console.log(\"--SAVE\",this.violations)\n    this.viewCtrl.dismiss((this.violations));\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/groupViolations/groupViolations.ts"],"sourceRoot":""}
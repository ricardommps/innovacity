{"version":3,"sources":["../../src/pages/violation/violation.module.ts","../../src/components/violation/violation.module.ts","../../src/components/violation/violation.ts","../../src/pages/violation/violation.ts","../../src/services/infracoes.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { ViolationModule } from '../../components/violation/violation.module'\nimport { IonicPageModule } from 'ionic-angular';\nimport { ViolationPage } from './violation';\n\n@NgModule({\n  declarations: [\n    ViolationPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ViolationPage),\n    ViolationModule,\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class ViolationPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/violation/violation.module.ts","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ViolationComponent } from './violation';\n\n@NgModule({\n  declarations: [\n    ViolationComponent,\n  ],\n  imports: [\n    IonicPageModule.forChild(ViolationComponent),\n  ],\n  exports: [\n    ViolationComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class ViolationModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/violation/violation.module.ts","import { Component, Input, ViewChild } from '@angular/core';\nimport { Content } from 'ionic-angular';\n\n@Component({\n  selector: 'violation',\n  templateUrl: 'violation.html'\n})\nexport class ViolationComponent {\n\n  @Input() data: any;\n  @Input() events: any;\n  @Input() violationsSelected: any;\n  @ViewChild(Content)\n  content: Content;\n  categories:any = null;\n  categorieSelected:any = null;\n  typeSelected = [];\n  violations = [];\n  constructor() {\n\n  }\n\n  onEvent(event: string, item: any, e: any) {\n    if (this.events[event]) {\n      this.events[event](this.typeSelected ? this.typeSelected : []);\n    }\n  }\n\n  onSelectChange(selectedValue: any) {\n    this.violations.map((violation) => {\n      if(selectedValue == violation.id_categoria){\n        violation.checked = true\n        this.categorieSelected = violation\n      }\n    })\n  }\n  ngAfterContentInit(){\n    this.categories = Object.assign({}, this.data[0])\n    this.categorieSelected = this.categories\n    if(this.data){\n      this.violations = this.data\n      this.typeSelected = this.violationsSelected ? this.violationsSelected : []\n      this.violations.map((violation) => {\n        violation.infracao.map((infracao) => {\n          this.typeSelected.map((violationSelected) => {\n            if(violationSelected.codigo == infracao.codigo){\n              infracao.checked = true\n            }\n          })\n        })\n      })\n    }\n  }\n\n  updateTypeSelected(item) {\n    let index = this.typeSelected.map((item) => { return item.codigo}).indexOf(item.codigo )\n    if(index < 0){\n      item.checked = true\n      this.typeSelected.push(item)\n    }else{\n      this.typeSelected.splice(index, 1);\n    }\n\n  }\n\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/violation/violation.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController  } from 'ionic-angular';\nimport {InfracoesService} from \"../../services/infracoes\";\n\n@IonicPage()\n@Component({\n  selector: 'page-violation',\n  templateUrl: 'violation.html',\n  providers: [InfracoesService]\n})\nexport class ViolationPage {\n  params: any = {\n    title:\"Infrações\",\n    events:{},\n    data:null\n  };\n  violationsSelected: any = {};\n  constructor(public navCtrl: NavController,\n              public navParams: NavParams,\n              public viewCtrl: ViewController,\n              public infracoes:InfracoesService) {\n    this.violationsSelected = navParams.get('violations') ? navParams.get('violations') : {};\n\n    this.params = {\n            events:{\n        'onClose': function(item: any) {\n          viewCtrl.dismiss(item ? item : []);\n        },\n        'onSaveViolations': function(item: any) {\n\n          viewCtrl.dismiss(item);\n        },\n      }\n    }\n  }\n\n  ngOnInit(){\n    this.loadInfracoes();\n  }\n\n  loadInfracoes(){\n    this.infracoes.getInfrcoes().subscribe((result) => {\n      if(result.success){\n        this.params.data = result.data\n      }\n    })\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/violation/violation.ts","import {Injectable} from '@angular/core';\nimport 'rxjs/add/operator/toPromise';\nimport { Http, Response } from \"@angular/http\";\nimport { Observable } from 'rxjs/Observable';\n\n@Injectable()\nexport class InfracoesService {\n  constructor(private http: Http) {\n\n  }\n\n  public getInfrcoes(): Observable<any>  {\n    let url:string = `/infracoes`\n    return this.http.get(url).map((res:Response) => res.json());\n    //return this.http.get(`/ocorrencias/${userId}`).toPromise();\n  }\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/services/infracoes.ts"],"sourceRoot":""}